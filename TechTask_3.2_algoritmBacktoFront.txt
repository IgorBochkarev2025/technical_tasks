3.2 Алгоритм создания Пользователя на стороне бэка
Пошаговый алгоритм:

Приём запроса от фронта:

Бэк получает JSON-запрос с данными пользователя (имя, фамилия, никнейм, пароль) по HTTP методу POST на эндпоинт /api/v1/users/register.

Валидация входных данных:

Проверить наличие всех обязательных полей (firstName, lastName,password, confirmPassword(опционально)). Если какое-то поле отсутствует — вернуть ошибку 400 Bad Request.

Убедиться, что password и confirmPassword совпадают(опять же опционально). Если нет — вернуть ошибку 422 Unprocessable Entity.

Проверить соответствие password требованиям безопасности (длина, наличие цифр, заглавных и строчных букв). Если не соответствует — вернуть ошибку 422 Unprocessable Entity.

Хэширование пароля:

Сгенерировать соль (salt) создать случайные данные, которые используются в качестве дополнительных входных данных для хэш-функции.

Хэшировать password с использованием алгоритма (например, bcrypt) и соли.

Сохранить хэш пароля, а не сам пароль.

Генерация UUID для пользователя:

Сгенерировать уникальный идентификатор пользователя (userId) с помощью UUID версии 4.

Создание записи в БД:

Сформировать объект пользователя с полями: userId, firstName, lastName, userName, hashedPassword, status.

Вставить запись в таблицу users с помощью SQL-запроса.

Пример SQL-запроса:

INSERT INTO users (userId, firstName, lastName, email, passwordHash, status)
VALUES ('{userId}', '{firstName}', '{lastName}', '{email}', '{hashedPassword}', '{status}');

Обработать возможные исключения при записи в БД (например, нарушение уникальности, сбой соединения):

Если возникла ошибка при вставке — логировать ошибку и возвращать 500 Internal Server Error.

Убедиться, что транзакция БД завершена корректно (commit/rollback).

Сохранение дополнительных данных (если требуется):

Если система использует профили или настройки пользователя — создать связанные записи в дополнительных таблицах (user_settings или user_profile).

Если есть необходимость сохранить метаданные (IP-адрес регистрации, устройство) — записать их в отдельную таблицу.

Собрать JSON-ответ с данными зарегистрированного пользователя (исключая пароль и чувствительные данные).

Установить HTTP-статус 201 Created.

Включить в ответ userId, firstName, lastName, userName, status.

Завершение обработки запроса:

Отправить сформированный ответ фронтенду.

Освободить ресурсы (закрыть соединения с БД, пулы соединений).

Завершить выполнение контроллера/сервиса.